<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]>      <html class="no-js"> <!--<![endif]-->
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title></title>
    <meta name="description" content="" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />
    <script type="text/javascript">
      function copyToClipboard(e) {
        var copyText = e.parentElement.children[2];

        /* Select the text field */
        copyText.select();
        copyText.setSelectionRange(0, 99999); /* For mobile devices */

        /* Copy the text inside the text field */
        navigator.clipboard.writeText(copyText.value);
      }

      function createNewTextBox() {
        let textToCopyContainer = document.getElementById(
          "textToCopyContainer"
        );

        textToCopyContainer.innerHTML += `<div class="shadow m-3 p-3 col-sm-12 col-md-5 col-lg-3" style="border-radius: 5px; background-color: #FDFCFA;">
          <input class="form-control" type="text" placeholder="title..." /><br/>
          <textarea class="form-control" rows="4" cols="50" placeholder="text..."></textarea><br/>
          <button class="btn btn-primary" onclick="copyToClipboard(this)">Copy</button>
          <button class="btn btn-warning" onclick="clearText(this)">Clear</button>
          <button class="btn btn-danger" onclick="removeBox(this)">Remove</button>
        </div>`;
      }

      function clearText(e) {
        e.parentElement.children[0].value = "";
        e.parentElement.children[2].value = "";
      }

      function removeBox(e) {
        if (confirm("Are you sure you want to remove this textfield?")) {
          e.parentElement.remove();
        } else {
          e.parentNode.style.backgroundColor = "";
        }
      }

      function removeAll(e) {
        let textToCopyContainer = document.getElementById(
          "textToCopyContainer"
        );

        if (confirm("Are you sure you want to remove all of the textfields?")) {
          while (textToCopyContainer.lastChild) {
            textToCopyContainer.removeChild(textToCopyContainer.lastChild);
          }
        }
      }
    </script>
  </head>
  <body style="background-color: rgb(220, 220, 220)">
    <div style="text-align: center; padding: 20px" class="container-fluid">
      <h2>QuickTxtCopy</h2>
      <div style="padding: 20px">
        <button onclick="createNewTextBox()" class="btn btn-success">+</button>
        <button onclick="removeAll()" class="btn btn-danger">Remove All</button>
      </div>
      <div
        id="textToCopyContainer"
        class="row"
        style="
          display: flex;
          flex-wrap: wrap;
          align-items: center;
          justify-content: space-around;
          margin: auto;
        "
      ></div>
    </div>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
